<!-- Shop Page -->
<main class="shop-page">

  <!-- Hero Section -->
  <section class="page-hero" aria-labelledby="shop-hero-title">
    <div class="page-hero__container">
      <div class="page-hero__content">
        <h1 id="shop-hero-title" class="page-hero__title">
          Browse Our Collection
          <span class="page-hero__title-accent">Find Your Perfect Cabin</span>
        </h1>
        <p class="page-hero__description">
          Explore our range of premium modular cabins, each designed for comfort, style, and durability.
        </p>
      </div>
    </div>
  </section>

  <!-- Shop Content -->
  <section class="shop-content">
    <div class="shop-content__container">
      
      <!-- Filters -->
      <aside class="shop-filters" aria-label="Product filters">
        <div class="shop-filters__header">
          <h2 class="shop-filters__title">Categories</h2>
        </div>
        <nav class="category-nav">
          <button 
            *ngFor="let category of categories"
            class="category-nav__item"
            [class.category-nav__item--active]="selectedCategory === category.id"
            (click)="selectCategory(category.id)"
            [attr.aria-pressed]="selectedCategory === category.id"
          >
            {{ category.name }}
          </button>
        </nav>

        <!-- Filter Card -->
        <div class="filter-card">
          <h3 class="filter-card__title">Why Choose Teks Global Resources?</h3>
          <ul class="filter-card__list">
            <li class="filter-card__item">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
              5-Year Warranty
            </li>
            <li class="filter-card__item">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
              Free Delivery
            </li>
            <li class="filter-card__item">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
              Professional Installation
            </li>
            <li class="filter-card__item">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
              </svg>
              Flexible Financing
            </li>
          </ul>
          <a class="button button--secondary button--small button--full" routerLink="/contact">
            Get a Quote
          </a>
        </div>
      </aside>

      <!-- Products Grid -->
      <div class="shop-products">
        <div class="shop-products__header">
          <p class="shop-products__count">
            Showing <strong>{{ filteredProducts.length }}</strong> cabin{{ filteredProducts.length !== 1 ? 's' : '' }}
          </p>
        </div>

        <div class="shop-products__grid" *ngIf="filteredProducts.length > 0; else noProducts">
          <article class="product-card" *ngFor="let product of filteredProducts">
            <div class="product-card__media">
              <img 
                class="product-card__image" 
                [src]="product.image" 
                [alt]="product.name + ' - exterior view'"
                loading="lazy"
              />
              <div class="product-card__badge">{{ product.category }}</div>
            </div>
            
            <div class="product-card__content">
              <div class="product-card__header">
                <h3 class="product-card__title">{{ product.name }}</h3>
                <div class="product-card__rating" [attr.aria-label]="'Rated ' + product.rating + ' out of 5 stars'">
                  <svg class="product-card__star" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                  </svg>
                  <span class="product-card__rating-value">{{ product.rating }}</span>
                  <span class="product-card__reviews">({{ product.reviews }})</span>
                </div>
              </div>

              <p class="product-card__description">{{ product.description }}</p>

              <div class="product-card__meta">
                <div class="product-card__size">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"/>
                  </svg>
                  {{ product.size }}
                </div>
              </div>

              <ul class="product-card__features">
                <li class="product-card__feature" *ngFor="let feature of product.features">
                  {{ feature }}
                </li>
              </ul>

              <div class="product-card__footer">
                <div class="product-card__price-wrapper">
                  <span class="product-card__price-label">From</span>
                  <span class="product-card__price">â‚¦{{ product.price.toLocaleString() }}</span>
                </div>
                <a class="button button--primary button--small" [routerLink]="['/product', product.id]">
                  View Details
                </a>
              </div>
            </div>
          </article>
        </div>

        <ng-template #noProducts>
          <div class="no-products">
            <svg class="no-products__icon" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"/>
            </svg>
            <h3 class="no-products__title">No cabins found</h3>
            <p class="no-products__description">Try selecting a different category</p>
            <button class="button button--primary" (click)="selectCategory('all')">
              View All Cabins
            </button>
          </div>
        </ng-template>
      </div>

    </div>
  </section>

  <!-- Features Banner -->
  <section class="features-banner" aria-label="Key benefits">
    <div class="features-banner__container">
      <div class="features-banner__grid">
        <div class="feature-item">
          <svg class="feature-item__icon" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
          </svg>
          <div class="feature-item__content">
            <h3 class="feature-item__title">5-Year Warranty</h3>
            <p class="feature-item__text">Full structural coverage</p>
          </div>
        </div>

        <div class="feature-item">
          <svg class="feature-item__icon" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
          </svg>
          <div class="feature-item__content">
            <h3 class="feature-item__title">Fast Delivery</h3>
            <p class="feature-item__text">Ships in 4-6 weeks</p>
          </div>
        </div>

        <div class="feature-item">
          <svg class="feature-item__icon" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          <div class="feature-item__content">
            <h3 class="feature-item__title">Flexible Payment</h3>
            <p class="feature-item__text">Finance options available</p>
          </div>
        </div>

        <div class="feature-item">
          <svg class="feature-item__icon" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"/>
          </svg>
          <div class="feature-item__content">
            <h3 class="feature-item__title">Expert Support</h3>
            <p class="feature-item__text">24/7 customer service</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section" aria-labelledby="cta-title">
    <div class="cta-section__container">
      <div class="cta-section__content">
        <h2 id="cta-title" class="cta-section__title">Can't Find What You're Looking For?</h2>
        <p class="cta-section__description">
          Our team can create a custom cabin tailored specifically to your needs and preferences.
        </p>
      </div>
      <div class="cta-section__actions">
        <a class="button button--primary button--large" routerLink="/contact">
          Request Custom Design
        </a>
        <a class="button button--secondary button--large" routerLink="/services">
          View Services
        </a>
      </div>
    </div>
  </section>

</main>
